import{_ as i,c as a,o as e,af as n}from"./chunks/framework.BkXTFsxB.js";const k=JSON.parse('{"title":"PR Body Generation Enhancement","description":"","frontmatter":{},"headers":[],"relativePath":"reference/pr-body-generation.md","filePath":"reference/pr-body-generation.md","lastUpdated":1762001301000}'),t={name:"reference/pr-body-generation.md"};function l(o,s,h,r,p,d){return e(),a("div",null,[...s[0]||(s[0]=[n(`<h1 id="pr-body-generation-enhancement" tabindex="-1">PR Body Generation Enhancement <a class="header-anchor" href="#pr-body-generation-enhancement" aria-label="Permalink to &quot;PR Body Generation Enhancement&quot;">​</a></h1><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h2><p>As part of Phase 2 of the E2E automation gaps fixes (Issue #111, PR #143), the PR body generation has been significantly enhanced to provide better structure and changelog extraction.</p><h2 id="changes-made" tabindex="-1">Changes Made <a class="header-anchor" href="#changes-made" aria-label="Permalink to &quot;Changes Made&quot;">​</a></h2><h3 id="enhanced-buildprbody-function" tabindex="-1">Enhanced <code>buildPrBody()</code> Function <a class="header-anchor" href="#enhanced-buildprbody-function" aria-label="Permalink to &quot;Enhanced \`buildPrBody()\` Function&quot;">​</a></h3><p>Location: <code>scripts/ops/open-or-update-pr.mjs</code></p><p>The function now generates comprehensive PR bodies that include:</p><ol><li><strong>Purpose Section</strong> - Extracted from idea file</li><li><strong>Problem Section</strong> - Extracted from idea file</li><li><strong>Proposal Section</strong> - Extracted from idea file</li><li><strong>Changes Section</strong> (NEW) - Auto-generated changelog-friendly section</li><li><strong>Acceptance Checklist</strong> - Extracted from idea file</li><li><strong>Metadata Footer</strong> - Idea source, branch, status</li></ol><h3 id="changes-section-logic" tabindex="-1">Changes Section Logic <a class="header-anchor" href="#changes-section-logic" aria-label="Permalink to &quot;Changes Section Logic&quot;">​</a></h3><p>The new &quot;## Changes&quot; section provides a changelog-friendly format:</p><ul><li><strong>If proposal contains bullet points</strong>: Extracts and uses those bullets directly</li><li><strong>If no bullets found</strong>: Generates a summary statement</li><li>Prepends context: &quot;This PR implements the following changes based on the proposal above:&quot;</li></ul><p>This makes it easier for the <code>extract-pr-changelog</code> script to find and extract meaningful changelog content.</p><h2 id="usage" tabindex="-1">Usage <a class="header-anchor" href="#usage" aria-label="Permalink to &quot;Usage&quot;">​</a></h2><p>When creating a PR with <code>ops:open-or-update-pr</code>:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ops:open-or-update-pr</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --id</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> C-123</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --yes</span></span></code></pre></div><p>The script will:</p><ol><li>Look for the idea file in <code>ideas/</code> directory</li><li>Extract all relevant sections</li><li>Generate a comprehensive PR body with all sections</li><li>Create or update the PR on GitHub</li></ol><h2 id="example-output" tabindex="-1">Example Output <a class="header-anchor" href="#example-output" aria-label="Permalink to &quot;Example Output&quot;">​</a></h2><div class="language-markdown vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">markdown</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Closes #123</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## Purpose</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Improve user onboarding experience...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## Problem</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Current onboarding flow lacks...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## Proposal</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">### Phase 1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Implement feature X</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Add validation for Y</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## Changes</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">This PR implements the following changes based on the proposal above:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Implement feature X</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Add validation for Y</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## Acceptance Checklist</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ ] Feature X implemented</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ ] Validation Y added</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ ] Tests passing</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">---</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-light-font-weight:bold;--shiki-dark:#E1E4E8;--shiki-dark-font-weight:bold;">**Idea**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: feature-name</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-light-font-weight:bold;--shiki-dark:#E1E4E8;--shiki-dark-font-weight:bold;">**Source**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\`/ideas/C-feature-name.md\`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-light-font-weight:bold;--shiki-dark:#E1E4E8;--shiki-dark-font-weight:bold;">**Branch**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\`feat/C-123-feature-name\`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-light-font-weight:bold;--shiki-dark:#E1E4E8;--shiki-dark-font-weight:bold;">**Status**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: In Progress</span></span></code></pre></div><h2 id="benefits" tabindex="-1">Benefits <a class="header-anchor" href="#benefits" aria-label="Permalink to &quot;Benefits&quot;">​</a></h2><ol><li><strong>Better Changelog Extraction</strong>: The Changes section is specifically formatted for changelog extraction</li><li><strong>Complete Context</strong>: All idea sections preserved in PR body</li><li><strong>Traceability</strong>: Clear link between idea file, issue, and PR</li><li><strong>Consistent Format</strong>: All PRs follow the same structure</li></ol><h2 id="testing" tabindex="-1">Testing <a class="header-anchor" href="#testing" aria-label="Permalink to &quot;Testing&quot;">​</a></h2><p>Tested with:</p><ul><li>✅ ARCH-type ideas (e.g., ARCH-e2e-automation-gaps)</li><li>✅ PR #143 successfully used enhanced body format</li><li>✅ Changelog extraction worked perfectly from enhanced body</li><li>⏳ Additional idea types (C, B, PB, U) - to be tested in real workflows</li></ul><h2 id="related" tabindex="-1">Related <a class="header-anchor" href="#related" aria-label="Permalink to &quot;Related&quot;">​</a></h2><ul><li>Issue #111: ARCH-e2e-automation-gaps</li><li>PR #143: Phase 1 implementation</li><li>Script: <code>scripts/ops/extract-pr-changelog.mjs</code></li><li>Script: <code>scripts/ops/open-or-update-pr.mjs</code></li></ul>`,26)])])}const g=i(t,[["render",l]]);export{k as __pageData,g as default};
