# Registry â€” single editable source for cross-surface facts
# Do not edit projections. Edit this file and unit READMEs only.

schema:
  id: string            # ARCH-*, U-*, C-*, B-*, PB-*
  title: string
  type: enum            # unit|composition|arch|playbook|bug
  lane: enum            # A|B|C|D
  current_owner: string # @handle
  next_owner: string    # @handle
  next_lane: string     # A|B|C|D
  project_item: string  # URL
  status: enum          # Draft|Ticketed|Branched|PR Open|In Review|Merged|Archived
  surfaces:             # file paths that represent projections
    storybook: string
    playbook: string
    readme: string
  evidence:             # lane evidence links
    A:
      storybook_run: string
      readme_diff: string
      pr_url: string
    B:
      playbook_page: string
      asset_note: string
    C:
      gate_comment: string
      metrics_note: string
    D:
      decision_log: string
      registry_commit: string
  ttl_days: number
  last_verified: date

items:
  - id: adr-2025-11-auto-intake-and-cascade
    title: Auto Intake & Registry-Driven Cascade
    type: arch
    lane: D
    current_owner: "@lane-d"
    next_owner: "@lane-a"
    next_lane: "A"
    project_item: "https://github.com/orgs/<org>/projects/<id>/views/<view>"
    status: "Accepted"
    surfaces:
      storybook: "storybook/docs/Patterns/registry-docs.mdx"
      playbook: "playbook/pages/patterns/registry-docs.md"
      readme: "src/registry-docs/README.md"
    evidence:
      A:
        storybook_run: ""
        readme_diff: ""
        pr_url: ""
      B:
        playbook_page: ""
        asset_note: ""
      C:
        gate_comment: ""
        metrics_note: ""
      D:
        decision_log: "https://github.com/louis-pvs/plaincraft/blob/main/docs/adr/auto-intake.md"
        registry_commit: ""
    ttl_days: 180
    last_verified: "2025-11-02"

  - id: ARCH-registry-driven-docs
    title: Registry-driven docs pilot
    type: arch
    lane: D
    current_owner: "@lane-a"
    next_owner: "@lane-b"
    next_lane: "B"
    project_item: "https://github.com/orgs/<org>/projects/<id>/views/<view>"
    status: "Ticketed"
    surfaces:
      storybook: "storybook/docs/Patterns/registry-docs.mdx"
      playbook: "playbook/pages/patterns/registry-docs.md"
      readme: "src/registry-docs/README.md"
    evidence:
      A: {}
      B: {}
      C: {}
      D: {}
    ttl_days: 180
    last_verified: "2025-11-02"
